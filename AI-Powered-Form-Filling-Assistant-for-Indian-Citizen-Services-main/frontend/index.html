<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>AI Form Filler — Demo</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
  </head>
  <body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container">
        <a class="navbar-brand" href="#"><i class="fa-solid fa-file-lines"></i> AI Form Filler</a>
        <div class="ms-auto text-white small">Demo • Multi‑modal · Multi‑lang</div>
      </div>
    </nav>

    <main class="container my-5">
      <div class="row g-4">
        <div class="col-lg-5">
          <div class="card shadow-sm">
            <div class="card-body">
              <h5 class="card-title">Upload Document</h5>
              <p class="text-muted small">Supported types: PNG, JPG, PDF. The system will extract fields automatically.</p>
              <div id="drop-zone" class="border rounded p-3 text-center mb-3">
                <div class="mb-2"><i class="fa-regular fa-image fa-2x text-secondary"></i></div>
                <div id="drop-text" class="fw-semibold">Drag & drop a file here or click to browse</div>
                <input type="file" id="file-input" accept=".png,.jpg,.jpeg,.pdf" class="form-control form-control-sm mt-3" />
                <div class="form-text">Example docs provided in repository for testing.</div>
              </div>

              <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button id="upload-btn" class="btn btn-primary"><i class="fa-solid fa-cloud-arrow-up"></i> Upload & Extract</button>
              </div>

              <hr>
              <h6 class="mb-2">Quick Actions</h6>
              <div class="d-flex gap-2 flex-wrap">
                <button id="use-sample" class="btn btn-outline-secondary btn-sm"><i class="fa-solid fa-file-circle-plus"></i> Use Sample</button>
                <button id="clear-btn" class="btn btn-outline-danger btn-sm"><i class="fa-solid fa-trash"></i> Clear</button>
              </div>
            </div>
          </div>

          <div id="preview-card" class="card mt-4 shadow-sm" style="display:none;">
            <div class="card-body">
              <h5 class="card-title">Document Preview</h5>
              <div id="preview-area" class="border rounded p-2 text-center" style="min-height:180px;">
                <img id="preview-image" src="" alt="preview" style="max-width:100%; max-height:320px; display:none;" />
                <div id="preview-filename" class="text-muted small"></div>
                <div id="preview-placeholder" class="text-muted">No preview available for PDF in this demo.</div>
              </div>
            </div>
          </div>

        </div>

        <div class="col-lg-7">
          <div class="card shadow-sm">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-start">
                <div>
                  <h5 class="card-title mb-1">Extracted Fields</h5>
                  <div class="text-muted small">Review and edit before filling the form.</div>
                </div>
                <div class="text-end">
                  <label class="small text-muted">Template</label>
                  <select id="template" class="form-select form-select-sm">
                    <option value="passport_form.pdf">Passport (sample)</option>\n                        <option value="voter_id_form.pdf">Voter ID (sample)</option>\n                        <option value="aadhaar_form.pdf">Aadhaar (sample)</option>\n                        <option value="pan_form.pdf">PAN (sample)</option>
                    <option value="voter_id_form.pdf">Voter ID (sample)</option>
                  </select>
                </div>
              </div>

              <div id="fields-wrap" class="mt-3">
                <form id="fields-form" class="row g-2">
                  <div class="col-12 text-muted">No document processed yet.</div>
                </form>
              </div>

              <div class="mt-3 d-flex gap-2">
                <button id="fill-btn" class="btn btn-success"><i class="fa-solid fa-file-export"></i> Fill PDF & Download</button>
                <button id="copy-json" class="btn btn-outline-secondary"><i class="fa-regular fa-copy"></i> Copy JSON</button>
                <div id="spinner" class="spinner-border text-primary" role="status" style="display:none;"><span class="visually-hidden">Processing...</span></div>
              </div>

              <div class="mt-3">
                <div class="alert alert-info small mb-0">Tip: Use the <strong>Use Sample</strong> button to test quickly.</div>
              </div>
            </div>
          </div>

          <div class="card mt-4 shadow-sm" id="log-card" style="display:none;">
            <div class="card-body">
              <h6 class="card-title">OCR & NER Output</h6>
              <pre id="raw-text" class="small" style="white-space:pre-wrap;"></pre>
            </div>
          </div>

        </div>
      </div>
    </main>

    <footer class="footer py-3 bg-white border-top">
      <div class="container text-center small text-muted">
        Demo project • Not for production use
      </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="main.js"></script>
  </body>
</html>
